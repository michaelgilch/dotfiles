#!/bin/bash

# Get workspace info with monitor geometry
WORKSPACE_INFO=$(i3-msg -t get_workspaces | jq -r '.[] | select(.focused==true) | "\(.output) \(.rect.x) \(.rect.width)"')

read FOCUSED_OUTPUT MONITOR_X MONITOR_WIDTH <<< "$WORKSPACE_INFO"

# Calculate center position
WINDOW_X=$((MONITOR_X + MONITOR_WIDTH / 4))

# Show and position
i3-msg '[instance="dropdown-term"] scratchpad show, move window to output '$FOCUSED_OUTPUT', move position '$WINDOW_X'px 29px'